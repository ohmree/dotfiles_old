(function(n){var e=function(){var k=[],e=function(a,c,b){a="string"===typeof a?[a]:a;var f=1,d=function(){return a.every(function(a){return!!g[a]})},l=function(){k.push(function(){d()?b():l()})},e=function(a){0==--f&&b&&(c||d()?b():l())};a.forEach(function(a){void 0===g[a]&&(g[a]=null,m.loadFile(rea.extension.getURL(a+".js"),function(){e(a)}),f++)});e()},g={},d={},h={},m={log:function(){var a,c,b=0,f=[],d={set:function(e){b=e;c=60<=b;a=30<=b;f.forEach(function(a){a(d,b)})},get:function(){return b},
verbose:function(){},debug:function(){c&&console.debug.apply(console,arguments)},warn:function(){a&&console.warn.apply(console,arguments)},log:function(){a&&console.log.apply(console,arguments)},info:function(){a&&console.info.apply(console,arguments)},error:function(){console.error.apply(console,arguments)},addChangeListener:function(a){f.push(a)}};d.__defineGetter__("D",function(){return c});d.__defineGetter__("W",function(){return a});return d}(),init:function(){},verify:function(a){var c=[],b;
for(b in d)d.hasOwnProperty(b)&&(3<d[b].length&&"###"===d[b].substr(0,3)?console.log("registry.verify: development version detected @ "+b):d[b]!==a&&(console.warn("registry.verify: expected version "+a+" and detected "+d[b]+" @ "+b),c.push({name:b,version:d[b],expected:a})));return c},register:function(a,c,b,f){if(!g[a]||f)for(d[a]=c,g[a]=b,a=k,k=[];a.length;)a.pop()()},registerRaw:function(a,c,b,f){if(!h[a]||f)d[a]=c,h[a]=b},vendor:function(a,c){return e(a,!0,c)},require:function(a,c){return e(a,
!1,c)},getRaw:function(a){var c=null;if(void 0!==h[a])c=h[a];else{var b=rea.extension.getURL(a);try{var d=new XMLHttpRequest;d.open("GET",b,!1);d.send(null);(c=d.responseText)||console.warn("registry: content of "+a+" is null!")}catch(e){console.log("getRawContent "+e)}}return c},loadFile:function(a,c){try{var b=document.createElement("script");b.setAttribute("src",a);b.onload=function(){c&&c(a)};b.onerror=function(b){console.warn("registry: self.load "+a+" failed! ",b)};(document.head||document.body||
document.documentElement||document).appendChild(b)}catch(d){console.warn("registry: self.load "+a+" failed! ",d)}},isDevVersion:function(a){return d[a]&&"###"===d[a].substr(0,3)},get:function(a){var c,b=g[a];"function"===typeof b?(c=Array.prototype.slice.call(arguments,1),c=b.apply(this,c)):b&&(c=b);return c}};return m}();window.setTimeout(e.init,1);n.Registry=e})("undefined"!==typeof rea?rea.globals:window);
